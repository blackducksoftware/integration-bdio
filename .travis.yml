language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "t7PQIE3LHzYoG1s0yWGgRzl4Ah//BIyGPcCkUgqmyiv6xC+xkLjQLD8uJ/x1LyLc2Ts3HK++Q+PCLzGqa46HfAnV1E5K6pdx1uj+9C/+nIFp/9DsePY5sDRi0/j5muCRodfgxPfmgHiia3Z8+xY5oLeKrGxo2AqGcEKreW/q+y9VheQmEQt8rPKj+EB98kgb1e22RFktXBZw5s19rw6PT11qJW2//3sFerAp5pPspy+HrE1hsOSSpFQlfz8XPYjOF79x+tYvkQkYWqJiuZtnHHAjyhgzSj5OH1c6Rb0FoZ4KrWWybJTldEPg8sHCn7yCyAJ56dagMgBa22+OGyjn0uitwtbUUYY3FiaKvlqLCPMDKDX/pY6asLd2BdW0+Fs1c0rjayNZXY8NKJ76oz6UwP/YBA0X95tTpsL0i5XppFF+StuYe3YnBtUvu8vbkTj5ka7sbQXs7RxTjEU5Vi/qS2AmrH3Y7GnHcS1n3f9HABigIuZ4CnFqof094SBeDtP/2qM9rlQaE7S7ug95YKOFphA88qIkV0icKNncOM7UnF3RFrwiXT0F/DGBSNs3Y0KCCgIt4y4Lb4Y6MirRdH5JiKGG/DK5S280jTai2510ZjLqACIS5RxGpw7hyTDimDAqqDmBLdspHiCQxny2SVviGqyGwRnMlssl52yFtNB4zkQ="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - akamen@blackducksoftware.com
    - jrichard@blackducksoftware.com
    - psantos@blackducksoftware.com
    - ekerwin@blackducksoftware.com

script:
 - "./gradlew clean build sonarqube"

after_success:
 - "./gradlew test jacocoTestReport coveralls"
 - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
