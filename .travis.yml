language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "jt5Sp6CfCXI+DrJ94X10TCtLUWsz56kLIE3claubb1fAusL6nGgK2hJVpttLzWOZEP/TfDcC4jPxh2CD1K3YL7T2o8DC6K1zsz+jswkdPHnNnSQJdGXxWJ28H21QaCa0nlB9l/RCdrC2fDAZb5D7KuYXnQRpQinwy0sARrhgyxZoEiYtoPLYn262pXhhAF2OlKFaGognNH1KetqMTbm99ZtEA2oNHzeOl614+bdtNL2RChD/QcIE14QblnCJJktjqnmuqQ50r4HPBrTr22ZND9kpRfhMnMZFJKK4EEOfhguCbduO+D1SyoGWTbAuJ7yjw7VXjGartI+Fa6WbTgjkvp4KU4d4OarPg7lPFpeGstgsEfcEebV4x0lbKaHq5S28L7zVXpudOy16TTdPSUP9hbgwo7yzhCn5zVQdXJeKKzknTRH/DZGLdwpcnQZ4yYIESUVQ947tINu6pID+i8AnWqwuhX6ys6Lvt9ZiY991kaXYr+A268psvZu7DiPHSHpdnE2xoqbJrgRAU502djZ4gcWvaHGBXhUtfTom39t9WzQJOD6Q+3d70kHpV7gyZyqY6+gxId+omd3odSj68PP/0peTX7aLHLbegjBU3EhLrqIIpTD1XXiVJ7svOJYenWB3m19zbmMJmTi0MXJUkyyPsa6F1vVnf2FC8ILXvAOfato="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - akamen@blackducksoftware.com
    - jrichard@blackducksoftware.com
    - psantos@blackducksoftware.com
    - ekerwin@blackducksoftware.com

script:
 - "./gradlew clean build sonarqube"

after_success:
 - "./gradlew test jacocoTestReport coveralls"
 - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
